<div class="wrap">

  <div class="basicHero">
    <h1>Connect to AACT using R & RStudio</h1>
  </div>

</div>

<section class="rAccess">
  <div class="wrap">

    <div class="step">
      <span class="stepNumber">1</span>
      <h3 class="stepName">Download and install R and RStudio</h3>
    </div>

    <p>If R and RStudio are not already installed, install from these two links:</p>

    <p><a href="https://cran.r-project.org/">Install R from your closest mirror</a></p>
    <p><a href="https://www.rstudio.com/products/rstudio/">Install RStudio</a></p>


    <div class="step">
      <span class="stepNumber">2</span>
      <h3 class="stepName">Connect RStudio to AACT from the command line</h3>
    </div>

    <p>Once R and RStudio are installed, run the following commands using AACT credentials.</p>
    <p class='CodeRay'>
    <pre>
      <p class='code'>
        <span class='command-prompt'>></span><span class='command-entry'> install.packages("RPostgreSQL")</span>
        <span class='command-response'>trying URL 'https://cran.rstudio.com/bin/macosx/mavericks/contrib/3.3/RPostgreSQL_0.4-1.tgz'</span>
        <span class='command-response'>Content type 'application/x-gzip' length 306320 bytes (299 KB)</span>
        <span class='command-response'>==================================================</span>
        <span class='command-response'>downloaded 299 KB</span>
        <span class='command-prompt'>> </span><span class='command-entry'>library(RPostgreSQL)</span>
        <span class='command-response'>Loading required package: DBI</span>
        <span class='command-prompt'>> </span><span class='command-entry'>drv &lt;- dbDriver('PostgreSQL')</span>
        <span class='command-prompt'>> </span><span class='command-entry'>con &lt;- dbConnect(drv, dbname="<%= ENV['RDS_DB_READONLY_DBNAME'] %>",host="<%= ENV['RDS_DB_HOSTNAME'] %>", port=5432, user="<%= ENV['RDS_DB_READONLY_USERNAME'] %>", password="<%= ENV['RDS_DB_READONLY_PASSWORD'] %>")</span>
        <span class='command-prompt'>> </span><span class='command-entry'>aact_sample <- dbGetQuery(con, "select distinct study_type from studies")</span>
        <span class='command-prompt'>> </span><span class='command-entry'>write.csv(aact_sample, file='aact_sample.csv')</span>
      </p>
    </pre>

  </div>
</section>
